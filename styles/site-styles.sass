@import "common/variables"
@import "common/templates"


$link-bubble-size: calc(.8vw + 1.2rem)
$nav-height: 3rem

div, body, section, video, img
  +relative-block
*
  box-sizing: border-box
  color: $text-color
  font-family: 'Open Sans', sans-serif

html
  font-size: 100%
  height: 100%
  overflow-x: hidden
  width: 100%

+keyframes(scroll-hint)
  0%
    opacity: 0
  100%
    opacity: 0.2

=title
  +serif-font
  font-weight: 700
  font-size: calc(1.4vw + 0.7rem)

body
  margin: 0
  min-height: 100%
  padding-bottom: calc(5rem + 1vw)
  background-color: $main-bg-color

  h1, h3, h5
    margin: 0
    padding: calc(.6vw + .4rem)
    line-height: 160%
  h1, h3
    +serif-font
    font-weight: 700
  h1
    text-align: center
    font-size: calc(2vw + 1.2rem)
  h3
    font-size: calc(1.1vw + 1rem)
  h5
    font-size: calc(1.1vw + .7rem)

  #loading-cover
    position: fixed
    top: 0
    left: 0
    width: 100%
    height: 100%
    background-color: $main-bg-color
    z-index: 2

    div
      position: absolute
      bottom: 5%
      width: 100%

      text-align: center
      font-weight: 700
      color: $text-color
      font-size: calc(.6vw + .3rem)
      text-transform: uppercase

      opacity: 0
      animation: scroll-hint 2s ease-in-out 2s forwards

      svg
        display: block
        margin: calc(.8vw + 0.4rem) auto
        width: calc(2vw + 1.2rem)
        fill: $text-color

  #title
    +title
    padding-top: calc(2vw + 1rem)
    padding-left: calc(#{$page-margin} + #{$final-logo-size} * 1.5)

  .subpage-transition
    transition: transform 1s ease-in-out

  main
    width: 200%
    display: grid
    grid-template-columns: 50% 50%
    justify-items: center

    > section
      width: 100%
      padding-bottom: 5rem
      > div:first-of-type
        height: $bg-transition-size
        bottom: calc(#{$bg-transition-size} - 1px)
      > video
        width: 100%

      > h1
        display: block
        position: absolute
        width: 100%
        top: calc(10vw + 2rem)

      section:not(:first-child)
        margin-left: calc(7vw + 1.5rem)
        margin-right: 2rem
        overflow: hidden
        > h3
          +relative-block

  .section-link-badge
    display: inline-flex
    margin: .2rem 0 .2rem 1rem
    padding: .1rem
    align-items: center
    box-sizing: content-box
    text-decoration: none
    border-radius: $badge-size
    +mat-shadow
    > span
      +relative-block
      padding: 0 calc(.2vw + .3rem)
      +serif-font
      line-height: 140%
      font-size: $badge-size !important
    > svg
      border-radius: 50%
      width: $badge-size
      margin-left: 3px
    > svg.circle-badge
      padding: .2rem

  nav
    position: fixed
    display: flex
    width: 100%
    height: $nav-height
    bottom: 0
    z-index: 1
    justify-content: space-between
    padding: 0 1rem 1rem
    transition: transform 0.5s ease-in-out
    user-select: none

    div
      display: flex
      align-items: center
      opacity: .5
      transition: opacity .2s ease-in-out
      cursor: pointer
      background-color: $main-bg-color
      border-radius: .4rem
      border: 2px solid rgba($text-color, 20%)
      +mat-shadow
      svg
        fill: $text-color
        width: 2rem
      span
        font-weight: 700
    div:nth-child(1)
      padding-right: .8rem
      visibility: hidden
      opacity: 0
    div:nth-child(2)
      padding-left: .8rem

  .nav-unpinned
    transform: translateY($nav-height)
  .nav-pinned
    transform: translateY(0)

  footer
    width: 100%
    position: absolute
    bottom: 0
    padding: 1rem $page-margin
    box-sizing: border-box
    text-align: center
    font-size: calc(.4vw + .4rem)
    color: mix($text-color, $main-bg-color, 20%)
    background-image: linear-gradient($main-bg-color, lighten($main-bg-color, 2%))

    section
      display: flex
      justify-content: center
      align-items: center
      margin-bottom: 1rem
      a
        width: $link-bubble-size
        height: $link-bubble-size
        padding: calc(.2vw + .2rem)
        margin: 0 .6rem
        border-radius: 50%
        background-color: $main-dark-color
        +mat-shadow
        svg
          display: block
          fill: $text-color
      a:hover
        background-color: $text-color
        svg
          fill: $main-dark-color

      a:nth-of-type(1)
        padding: .3rem
        svg
          margin: 0 0 .1rem .1rem

  > #ie-text
    z-index: 2
    top: 5%
    position: fixed
    text-align: center
    padding: 2rem
    width: 100%
    font-size: calc(1.5vw + 0.5rem)

+scrollbars(14px, $main-color)
+text-selection($main-color, $text-color)
